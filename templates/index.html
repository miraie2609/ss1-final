{# File: templates/index.html #}
{% extends "base.html" %}

{% block title %}
    G-Easy English - Learn Vocabulary Effectively
{% endblock %}

{% block page_content %}

    {# HERO SECTION - Slideshow #}
    <section id="heroSlideshow"
             class="relative h-[350px] sm:h-[400px] md:h-[500px] lg:h-[550px] rounded-xl overflow-hidden shadow-lg group">
        {# Div này sẽ là nơi JavaScript thay đổi ảnh nền #}
        <div id="heroBackgroundImage"
             class="absolute inset-0 bg-no-repeat bg-cover bg-center transition-all duration-1000 ease-in-out"
             style="background-image: url('{{ url_for('static', filename='/images/Screenshot 2025-05-23 225616.png') }}');">
            {# Ảnh đầu tiên làm mặc định #}
        </div>

        {# Lớp phủ màu tối nhẹ #}
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>

        {# Nội dung chữ trên Hero Section (giữ nguyên) #}
        <div class="relative z-10 h-full flex flex-col justify-center items-start text-white p-6 sm:p-8 md:p-12 lg:p-16 max-w-xl md:max-w-2xl lg:max-w-3xl">
            <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4 md:mb-6 leading-tight">
                G-Easy
            </h1>
            <p class="text-base sm:text-lg md:text-xl lg:text-2xl mb-4 sm:mb-6 md:mb-8 leading-relaxed">
                Learn English vocabulary with clear meanings, vivid examples, and accurate pronunciation. Your saved
                words are always ready to support your learning anytime.
            </p>
        </div>

        {# Các nút điều hướng slideshow (Tạm thời chúng ta sẽ làm tự động chạy, các nút này có thể thêm chức năng sau) #}
        <button aria-label="Previous slide" id="heroPrevBtn"
                class="absolute left-2 sm:left-4 md:left-6 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-white bg-opacity-30 hover:bg-opacity-50 rounded-full text-gray-700 hover:text-black transition-colors duration-300">
            <svg class="h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                 stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/>
            </svg>
        </button>
        <button aria-label="Next slide" id="heroNextBtn"
                class="absolute right-2 sm:right-4 md:right-6 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-white bg-opacity-30 hover:bg-opacity-50 rounded-full text-gray-700 hover:text-black transition-colors duration-300">
            <svg class="h-5 w-5 sm:h-6 sm:w-6 md:h-8 md:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                 stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
            </svg>
        </button>

        {# Chỉ báo slide (dots) - tùy chọn #}
        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 z-20 flex space-x-2">
            <button class="hero-dot w-3 h-3 rounded-full bg-white bg-opacity-50 hover:bg-opacity-75 focus:outline-none"
                    data-slide-to="0"></button>
            <button class="hero-dot w-3 h-3 rounded-full bg-white bg-opacity-50 hover:bg-opacity-75 focus:outline-none"
                    data-slide-to="1"></button>
            <button class="hero-dot w-3 h-3 rounded-full bg-white bg-opacity-50 hover:bg-opacity-75 focus:outline-none"
                    data-slide-to="2"></button>
        </div>
    </section>
    {# KẾT THÚC HERO SECTION #}


    {# ABOUT US SECTION - Responsive #}
    <section class="py-10 sm:py-12 md:py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center md:space-x-8 lg:space-x-12">
                <div class="md:w-1/2 mb-8 md:mb-0 text-center md:text-left">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-4 sm:mb-6">
                        About us
                    </h2>
                    <p class="text-gray-600 leading-relaxed text-md sm:text-lg mb-6 sm:mb-8">
                        We build smart tools to help you learn English vocabulary more effectively. With accurate
                        translations, AI-generated example sentences, and personal word lists, we make your learning
                        journey easier, faster, and more fun.
                    </p>
                    <a href="#"
                       class="inline-block px-6 py-2.5 sm:px-8 sm:py-3 bg-transparent text-orange-500 font-semibold border-2 border-orange-500 rounded-lg hover:bg-orange-500 hover:text-white transition duration-300 ease-in-out transform hover:scale-105">
                        Details
                    </a>
                </div>
                <div class="md:w-1/2">
                    <img src="{{ url_for('static', filename='images/about_us_team.jpg') }}" alt="About Us - Our Team"
                         class="rounded-xl shadow-xl w-full h-auto object-cover max-h-[250px] sm:max-h-[300px] md:max-h-[350px]">
                </div>
            </div>
        </div>
    </section>
    {# KẾT THÚC ABOUT US SECTION #}


    {# G-EASY ENGLISH FEATURES SECTION - Responsive #}
    <section class="py-10 sm:py-12 md:py-20 bg-gray-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-3 sm:mb-4">
                G-Easy English
            </h2>
            <p class="text-gray-600 leading-relaxed text-md sm:text-lg max-w-2xl lg:max-w-3xl mx-auto mb-10 sm:mb-12 md:mb-16">
                We've gathered a collection of smart, easy-to-use tools to support your English learning journey.
                Whether you're reviewing vocabulary or practicing pronunciation, everything you need is right here at
                your fingertips!
            </p>
            {# SỬA DÒNG NÀY ĐỂ CÓ LAYOUT 2x2 NGAY CẢ TRÊN MOBILE và 4x1 trên Desktop  #}
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 md:gap-8">
                {# Feature 1: My Lists #}
                <div class="p-4 sm:p-6 bg-white rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ease-in-out flex flex-col justify-center items-center text-center aspect-square">
                    <div class="inline-block p-2 sm:p-3 rounded-full bg-orange-100 text-orange-500 mb-2 sm:mb-4">
                        <svg class="h-6 w-6 sm:h-7 md:h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                             stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/>
                        </svg>
                    </div>
                    <h3 class="text-sm sm:text-base md:text-lg font-semibold text-gray-700">My Lists</h3>
                </div>

                {# Feature 2: Enter New Words #}
                <div class="p-4 sm:p-6 bg-white rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ease-in-out flex flex-col justify-center items-center text-center aspect-square">
                    <div class="inline-block p-2 sm:p-3 rounded-full bg-orange-100 text-orange-500 mb-2 sm:mb-4">
                        <svg class="h-6 w-6 sm:h-7 md:h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                             stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <h3 class="text-sm sm:text-base md:text-lg font-semibold text-gray-700">Enter New Words</h3>
                </div>

                {# Feature 2: Enter New Words #}
                <div class="p-4 sm:p-6 bg-white rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ease-in-out flex flex-col justify-center items-center text-center aspect-square">
                    <div class="inline-block p-2 sm:p-3 rounded-full bg-orange-100 text-orange-500 mb-2 sm:mb-4">
                        <svg class="h-6 w-6 sm:h-7 md:h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                             stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                    </div>
                    <h3 class="text-sm sm:text-base md:text-lg font-semibold text-gray-700">References</h3>
                </div>


                {# Feature 3: User Profile #}
                <div class="p-4 sm:p-6 bg-white rounded-xl shadow-lg transform hover:scale-105 transition-transform duration-300 ease-in-out flex flex-col justify-center items-center text-center aspect-square">
                    <div class="inline-block p-2 sm:p-3 rounded-full bg-orange-100 text-orange-500 mb-2 sm:mb-4">
                        <svg class="h-6 w-6 sm:h-7 md:h-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"
                             stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                        </svg>
                    </div>
                    <h3 class="text-sm sm:text-base md:text-lg font-semibold text-gray-700">User Profile</h3>
                </div>
            </div>
        </div>
    </section>
    {# KẾT THÚC G-EASY ENGLISH FEATURES SECTION #}

    {# PRACTICE ENGLISH VOCABULARIES SECTION - Responsive #}
    <section class="py-10 sm:py-12 md:py-20 bg-white">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center md:space-x-8 lg:space-x-12">
                <div class="md:w-1/2 mb-8 md:mb-0 text-center md:text-left">
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-800 mb-4 sm:mb-6">
                        Practice English Vocabularies
                    </h2>
                    <p class="text-gray-600 leading-relaxed text-md sm:text-lg mb-6 sm:mb-8">
                        G-Easy helps you practice your English vocabularies every time, everywhere!
                    </p>
                    <a href="{{ url_for('my_lists_page') if user_info else url_for('home', open_login_modal='true') }}"
                       class="inline-block px-6 py-2.5 sm:px-8 sm:py-3 bg-orange-500 text-white font-semibold rounded-lg shadow-md hover:bg-orange-600 transition duration-300 ease-in-out transform hover:scale-105">
                        Check My Lists
                    </a>
                </div>
                <div class="md:w-1/2">
                    <img src="{{ url_for('static', filename='images/practice_section_people.jpg') }}"
                         alt="Practice Vocabularies"
                         class="rounded-xl shadow-xl w-full h-auto object-cover max-h-[250px] sm:max-h-[300px] md:max-h-[350px]">
                </div>
            </div>
        </div>
    </section>
    {# KẾT THÚC PRACTICE ENGLISH VOCABULARIES SECTION #}

    {% block scripts_extra %}
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // --- JavaScript cho Hero Slideshow ---
                const heroBackgroundImage = document.getElementById('heroBackgroundImage');
                const prevBtn = document.getElementById('heroPrevBtn');
                const nextBtn = document.getElementById('heroNextBtn');
                const dots = document.querySelectorAll('.hero-dot');

                const images = [
                    "{{ url_for('static', filename='images/hero_banner_1.jpg') }}",
                    "{{ url_for('static', filename='images/hero_banner_2.jpg') }}",
                    "{{ url_for('static', filename='images/hero_banner_3.jpg') }}"
                    // Đảm bảo bạn có 3 file ảnh này trong static/images/
                ];
                let currentImageIndex = 0;
                const slideInterval = 5000; // Thời gian tự động chuyển slide (5 giây)

                function updateSlide(index) {
                    if (heroBackgroundImage) {
                        // Thêm hiệu ứng mờ dần khi chuyển ảnh (tùy chọn)
                        heroBackgroundImage.style.opacity = '0.7';
                        setTimeout(() => {
                            heroBackgroundImage.style.backgroundImage = `url('${images[index]}')`;
                            heroBackgroundImage.style.opacity = '1';
                        }, 500); // Thời gian hiệu ứng mờ (1.5s) - phải nhỏ hơn duration-1000 của transition-all
                    }
                    dots.forEach((dot, i) => {
                        if (i === index) {
                            dot.classList.add('bg-opacity-100', 'bg-white'); // Active dot
                            dot.classList.remove('bg-opacity-50');
                        } else {
                            dot.classList.remove('bg-opacity-100', 'bg-white');
                            dot.classList.add('bg-opacity-50');
                        }
                    });
                    currentImageIndex = index;
                }

                function nextImage() {
                    let newIndex = (currentImageIndex + 1) % images.length;
                    updateSlide(newIndex);
                }

                function prevImage() {
                    let newIndex = (currentImageIndex - 1 + images.length) % images.length;
                    updateSlide(newIndex);
                }

                if (prevBtn) prevBtn.addEventListener('click', prevImage);
                if (nextBtn) nextBtn.addEventListener('click', nextImage);

                dots.forEach(dot => {
                    dot.addEventListener('click', function () {
                        const slideIndex = parseInt(this.dataset.slideTo);
                        updateSlide(slideIndex);
                    });
                });

                // Tự động chạy slideshow
                let autoSlide = setInterval(nextImage, slideInterval);

                // Dừng tự động chạy khi di chuột vào slideshow (tùy chọn)
                const heroSlideshowElement = document.getElementById('heroSlideshow');
                if (heroSlideshowElement) {
                    heroSlideshowElement.addEventListener('mouseenter', () => {
                        clearInterval(autoSlide);
                    });
                    heroSlideshowElement.addEventListener('mouseleave', () => {
                        autoSlide = setInterval(nextImage, slideInterval);
                    });
                }

                // Khởi tạo slide đầu tiên
                updateSlide(0);
                // --- Kết thúc JavaScript cho Hero Slideshow ---

                // ... (JavaScript khác của bạn nếu có) ...
            });
        </script>
    {% endblock %}

{% endblock %}